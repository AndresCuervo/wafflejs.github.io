!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(){function a(){return{keys:Object.keys||function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("keys() called on a non-object");var b,c=[];for(b in a)a.hasOwnProperty(b)&&(c[c.length]=b);return c},uniqueId:function(a){var b=++i+"";return a?a+b:b},has:function(a,b){return g.call(a,b)},each:function(a,b,c){if(null!=a)if(f&&a.forEach===f)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a);else for(var g in a)this.has(a,g)&&b.call(c,a[g],g,a)},once:function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}}}var d,e=this,f=Array.prototype.forEach,g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=0,j=a();d={on:function(a,b,c){if(!l(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!l(this,"once",a,[b,c])||!b)return this;var d=this,e=j.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,h,i,k,m;if(!this._events||!l(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:j.keys(this._events),h=0,i=g.length;i>h;h++)if(a=g[h],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,m=f.length;m>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=h.call(arguments,1);if(!l(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&m(c,b),d&&m(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}};var k=/\s+/,l=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(k.test(c)){for(var f=c.split(k),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},m=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},n={listenTo:"on",listenToOnce:"once"};j.each(n,function(a,b){d[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=j.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),d.bind=d.on,d.unbind=d.off,d.mixin=function(a){var b=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return j.each(b,function(b){a[b]=this[b]},this),a},"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=d),c.BackboneEvents=d):"function"==typeof define&&"object"==typeof define.amd?define(function(){return d}):e.BackboneEvents=d}(this)},{}],2:[function(a,b){b.exports=a("./backbone-events-standalone")},{"./backbone-events-standalone":1}],3:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.once=c,d.off=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(a,b){(function(a){function c(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new TypeError(d);var c=a;a=b,b=c}return a=e(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}var d="Expected a function",e=a.isFinite;b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(a,b){function c(a,b){return void 0===a?b:a}function d(a,b){return f(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(void 0,c))})}var e=a("lodash.assign"),f=a("lodash.restparam"),g=d(e,c);b.exports=g},{"lodash.assign":6,"lodash.restparam":16}],6:[function(a,b){function c(a,b,c){for(var d=-1,e=f(b),g=e.length;++d<g;){var h=e[d],i=a[h],j=c(i,b[h],h,a,b);(j===j?j===i:i!==i)&&(void 0!==i||h in a)||(a[h]=j)}return a}var d=a("lodash._baseassign"),e=a("lodash._createassigner"),f=a("lodash.keys"),g=e(function(a,b,e){return e?c(a,b,e):d(a,b)});b.exports=g},{"lodash._baseassign":7,"lodash._createassigner":9,"lodash.keys":12}],7:[function(a,b){function c(a,b){return null==b?a:d(b,e(b),a)}var d=a("lodash._basecopy"),e=a("lodash.keys");b.exports=c},{"lodash._basecopy":8,"lodash.keys":12}],8:[function(a,b){function c(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=c},{}],9:[function(a,b){function c(a){return f(function(b,c){var f=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=d(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&e(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++f<g;){var k=c[f];k&&a(b,k,h)}return b})}var d=a("lodash._bindcallback"),e=a("lodash._isiterateecall"),f=a("lodash.restparam");b.exports=c},{"lodash._bindcallback":10,"lodash._isiterateecall":11,"lodash.restparam":16}],10:[function(a,b){function c(a,b,c){if("function"!=typeof a)return d;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function d(a){return a}b.exports=c},{}],11:[function(a,b){function c(a){return function(b){return null==b?void 0:b[a]}}function d(a){return null!=a&&g(k(a))}function e(a,b){return a="number"==typeof a||i.test(a)?+a:-1,b=null==b?j:b,a>-1&&a%1==0&&b>a}function f(a,b,c){if(!h(c))return!1;var f=typeof b;if("number"==f?d(c)&&e(b,c.length):"string"==f&&b in c){var g=c[b];return a===a?a===g:g!==g}return!1}function g(a){return"number"==typeof a&&a>-1&&a%1==0&&j>=a}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}var i=/^\d+$/,j=9007199254740991,k=c("length");b.exports=f},{}],12:[function(a,b){function c(a){return function(b){return null==b?void 0:b[a]}}function d(a){return null!=a&&f(r(a))}function e(a,b){return a="number"==typeof a||m.test(a)?+a:-1,b=null==b?q:b,a>-1&&a%1==0&&b>a}function f(a){return"number"==typeof a&&a>-1&&a%1==0&&q>=a}function g(a){for(var b=i(a),c=b.length,d=c&&a.length,g=!!d&&f(d)&&(l(a)||k(a)),h=-1,j=[];++h<c;){var m=b[h];(g&&e(m,d)||o.call(a,m))&&j.push(m)}return j}function h(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function i(a){if(null==a)return[];h(a)||(a=Object(a));var b=a.length;b=b&&f(b)&&(l(a)||k(a))&&b||0;for(var c=a.constructor,d=-1,g="function"==typeof c&&c.prototype===a,i=Array(b),j=b>0;++d<b;)i[d]=d+"";for(var m in a)j&&e(m,b)||"constructor"==m&&(g||!o.call(a,m))||i.push(m);return i}var j=a("lodash._getnative"),k=a("lodash.isarguments"),l=a("lodash.isarray"),m=/^\d+$/,n=Object.prototype,o=n.hasOwnProperty,p=j(Object,"keys"),q=9007199254740991,r=c("length"),s=p?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&d(a)?g(a):h(a)?p(a):[]}:g;b.exports=s},{"lodash._getnative":13,"lodash.isarguments":14,"lodash.isarray":15}],13:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a,b){var c=null==a?void 0:a[b];return g(c)?c:void 0}function e(a){return f(a)&&m.call(a)==h}function f(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function g(a){return null==a?!1:e(a)?n.test(k.call(a)):c(a)&&i.test(a)}var h="[object Function]",i=/^\[object .+?Constructor\]$/,j=Object.prototype,k=Function.prototype.toString,l=j.hasOwnProperty,m=j.toString,n=RegExp("^"+k.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{}],14:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a){return function(b){return null==b?void 0:b[a]}}function e(a){return null!=a&&f(l(a))}function f(a){return"number"==typeof a&&a>-1&&a%1==0&&k>=a}function g(a){return c(a)&&e(a)&&i.call(a,"callee")&&!j.call(a,"callee")}var h=Object.prototype,i=h.hasOwnProperty,j=h.propertyIsEnumerable,k=9007199254740991,l=d("length");b.exports=g},{}],15:[function(a,b){function c(a){return!!a&&"object"==typeof a}function d(a,b){var c=null==a?void 0:a[b];return h(c)?c:void 0}function e(a){return"number"==typeof a&&a>-1&&a%1==0&&r>=a}function f(a){return g(a)&&o.call(a)==j}function g(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function h(a){return null==a?!1:f(a)?p.test(m.call(a)):c(a)&&k.test(a)}var i="[object Array]",j="[object Function]",k=/^\[object .+?Constructor\]$/,l=Object.prototype,m=Function.prototype.toString,n=l.hasOwnProperty,o=l.toString,p=RegExp("^"+m.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=d(Array,"isArray"),r=9007199254740991,s=q||function(a){return c(a)&&e(a.length)&&o.call(a)==i};b.exports=s},{}],16:[function(a,b){function c(a,b){if("function"!=typeof a)throw new TypeError(d);return b=e(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,f=e(c.length-b,0),g=Array(f);++d<f;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var d="Expected a function",e=Math.max;b.exports=c},{}],17:[function(a,b){(function(c){"use strict";var d=a("./transport-list");b.exports=a("./main")(d),"_sockjs_onload"in c&&setTimeout(c._sockjs_onload,1)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":30,"./transport-list":32}],18:[function(a,b){"use strict";function c(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}var d=a("inherits"),e=a("./event");d(c,e),b.exports=c},{"./event":20,inherits:73}],19:[function(a,b){"use strict";function c(){e.call(this)}var d=a("inherits"),e=a("./eventtarget");d(c,e),c.prototype.removeAllListeners=function(a){a?delete this._listeners[a]:this._listeners={}},c.prototype.once=function(a,b){function c(){d.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}var d=this,e=!1;this.on(a,c)},c.prototype.emit=function(a){var b=this._listeners[a];if(b)for(var c=Array.prototype.slice.call(arguments,1),d=0;d<b.length;d++)b[d].apply(this,c)},c.prototype.on=c.prototype.addListener=e.prototype.addEventListener,c.prototype.removeListener=e.prototype.removeEventListener,b.exports.EventEmitter=c},{"./eventtarget":21,inherits:73}],20:[function(a,b){"use strict";function c(a){this.type=a}c.prototype.initEvent=function(a,b,c){return this.type=a,this.bubbles=b,this.cancelable=c,this.timeStamp=+new Date,this},c.prototype.stopPropagation=function(){},c.prototype.preventDefault=function(){},c.CAPTURING_PHASE=1,c.AT_TARGET=2,c.BUBBLING_PHASE=3,b.exports=c},{}],21:[function(a,b){"use strict";function c(){this._listeners={}}c.prototype.addEventListener=function(a,b){a in this._listeners||(this._listeners[a]=[]);var c=this._listeners[a];-1===c.indexOf(b)&&(c=c.concat([b])),this._listeners[a]=c},c.prototype.removeEventListener=function(a,b){var c=this._listeners[a];if(c){var d=c.indexOf(b);return-1!==d?void(c.length>1?this._listeners[a]=c.slice(0,d).concat(c.slice(d+1)):delete this._listeners[a]):void 0}},c.prototype.dispatchEvent=function(a){var b=a.type,c=Array.prototype.slice.call(arguments,0);if(this["on"+b]&&this["on"+b].apply(this,c),b in this._listeners)for(var d=this._listeners[b],e=0;e<d.length;e++)d[e].apply(this,c)},b.exports=c},{}],22:[function(a,b){"use strict";function c(a){e.call(this),this.initEvent("message",!1,!1),this.data=a}var d=a("inherits"),e=a("./event");d(c,e),b.exports=c},{"./event":20,inherits:73}],23:[function(a,b){"use strict";function c(a){this._transport=a,a.on("message",this._transportMessage.bind(this)),a.on("close",this._transportClose.bind(this))}var d=a("json3"),e=a("./utils/iframe");c.prototype._transportClose=function(a,b){e.postMessage("c",d.stringify([a,b]))},c.prototype._transportMessage=function(a){e.postMessage("t",a)},c.prototype._send=function(a){this._transport.send(a)},c.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},b.exports=c},{"./utils/iframe":63,json3:74}],24:[function(a,b){(function(c){"use strict";var d=a("./utils/url"),e=a("./utils/event"),f=a("json3"),g=a("./facade"),h=a("./info-iframe-receiver"),i=a("./utils/iframe"),j=a("./location"),k=function(){};"production"!==c.env.NODE_ENV&&(k=a("debug")("sockjs-client:iframe-bootstrap")),b.exports=function(a,b){var c={};b.forEach(function(a){a.facadeTransport&&(c[a.facadeTransport.transportName]=a.facadeTransport)}),c[h.transportName]=h;var l;a.bootstrap_iframe=function(){var b;i.currentWindowId=j.hash.slice(1);var h=function(e){if(e.source===parent&&("undefined"==typeof l&&(l=e.origin),e.origin===l)){var h;try{h=f.parse(e.data)}catch(m){return void k("bad json",e.data)}if(h.windowId===i.currentWindowId)switch(h.type){case"s":var n;try{n=f.parse(h.data)}catch(m){k("bad json",h.data);break}var o=n[0],p=n[1],q=n[2],r=n[3];if(k(o,p,q,r),o!==a.version)throw new Error('Incompatibile SockJS! Main site uses: "'+o+'", the iframe: "'+a.version+'".');if(!d.isOriginEqual(q,j.href)||!d.isOriginEqual(r,j.href))throw new Error("Can't connect to different domain from within an iframe. ("+j.href+", "+q+", "+r+")");b=new g(new c[p](q,r));break;case"m":b._send(h.data);break;case"c":b&&b._close(),b=null}}};e.attachEvent("message",h),i.postMessage("s")}}}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./facade":23,"./info-iframe-receiver":26,"./location":29,"./utils/event":62,"./utils/iframe":63,"./utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,json3:74}],25:[function(a,b){(function(c){"use strict";function d(a,b){e.call(this);var c=this,d=+new Date;this.xo=new b("GET",a),this.xo.once("finish",function(a,b){var e,f;if(200===a){if(f=+new Date-d,b)try{e=g.parse(b)}catch(j){i("bad json",b)}h.isObject(e)||(e={})}c.emit("finish",e,f),c.removeAllListeners()})}var e=a("events").EventEmitter,f=a("inherits"),g=a("json3"),h=a("./utils/object"),i=function(){};"production"!==c.env.NODE_ENV&&(i=a("debug")("sockjs-client:info-ajax")),f(d,e),d.prototype.close=function(){this.removeAllListeners(),this.xo.close()},b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./utils/object":65,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73,json3:74}],26:[function(a,b){"use strict";function c(a){var b=this;e.call(this),this.ir=new h(a,g),this.ir.once("finish",function(a,c){b.ir=null,b.emit("message",f.stringify([a,c]))})}var d=a("inherits"),e=a("events").EventEmitter,f=a("json3"),g=a("./transport/sender/xhr-local"),h=a("./info-ajax");d(c,e),c.transportName="iframe-info-receiver",c.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},b.exports=c},{"./info-ajax":25,"./transport/sender/xhr-local":53,events:19,inherits:73,json3:74}],27:[function(a,b){(function(c,d){"use strict";function e(a,b){var c=this;f.call(this);var e=function(){var d=c.ifr=new j(k.transportName,b,a);d.once("message",function(a){if(a){var b;try{b=h.parse(a)}catch(d){return l("bad json",a),c.emit("finish"),void c.close()}var e=b[0],f=b[1];c.emit("finish",e,f)}c.close()}),d.once("close",function(){c.emit("finish"),c.close()})};d.document.body?e():i.attachEvent("load",e)}var f=a("events").EventEmitter,g=a("inherits"),h=a("json3"),i=a("./utils/event"),j=a("./transport/iframe"),k=a("./info-iframe-receiver"),l=function(){};"production"!==c.env.NODE_ENV&&(l=a("debug")("sockjs-client:info-iframe")),g(e,f),e.enabled=function(){return j.enabled()},e.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},b.exports=e}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":26,"./transport/iframe":38,"./utils/event":62,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73,json3:74}],28:[function(a,b){(function(c){"use strict";function d(a,b){n(a);var c=this;e.call(this),setTimeout(function(){c.doXhr(a,b)},0)}var e=a("events").EventEmitter,f=a("inherits"),g=a("./utils/url"),h=a("./transport/sender/xdr"),i=a("./transport/sender/xhr-cors"),j=a("./transport/sender/xhr-local"),k=a("./transport/sender/xhr-fake"),l=a("./info-iframe"),m=a("./info-ajax"),n=function(){};"production"!==c.env.NODE_ENV&&(n=a("debug")("sockjs-client:info-receiver")),f(d,e),d._getReceiver=function(a,b,c){return c.sameOrigin?new m(b,j):i.enabled?new m(b,i):h.enabled&&c.sameScheme?new m(b,h):l.enabled()?new l(a,b):new m(b,k)},d.prototype.doXhr=function(a,b){var c=this,e=g.addPath(a,"/info");n("doXhr",e),this.xo=d._getReceiver(a,e,b),this.timeoutRef=setTimeout(function(){n("timeout"),c._cleanup(!1),c.emit("finish")},d.timeout),this.xo.once("finish",function(a,b){n("finish",a,b),c._cleanup(!0),c.emit("finish",a,b)})},d.prototype._cleanup=function(a){n("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!a&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){n("close"),this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./info-ajax":25,"./info-iframe":27,"./transport/sender/xdr":50,"./transport/sender/xhr-cors":51,"./transport/sender/xhr-fake":52,"./transport/sender/xhr-local":53,"./utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],29:[function(a,b){(function(a){"use strict";b.exports=a.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(a,b){(function(c,d){"use strict";function e(a,b,c){if(!(this instanceof e))return new e(a,b,c);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");s.call(this),this.readyState=e.CONNECTING,this.extensions="",this.protocol="",c=c||{},c.protocols_whitelist&&q.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=c.transports;var d=c.sessionId||8;if("function"==typeof d)this._generateSessionId=d;else{if("number"!=typeof d)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return j.string(d)}}this._server=c.server||j.numberString(1e3);var f=new g(a);if(!f.host||!f.protocol)throw new SyntaxError("The URL '"+a+"' is invalid");if(f.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==f.protocol&&"https:"!==f.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+f.protocol+"' is not allowed.");var h="https:"===f.protocol;if("https"===t.protocol&&!h)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");b?Array.isArray(b)||(b=[b]):b=[];var i=b.sort();i.forEach(function(a,b){if(!a)throw new SyntaxError("The protocols entry '"+a+"' is invalid.");if(b<i.length-1&&a===i[b+1])throw new SyntaxError("The protocols entry '"+a+"' is duplicated.")});var k=l.getOrigin(t.href);this._origin=k?k.toLowerCase():null,f.set("pathname",f.pathname.replace(/\/+$/,"")),this.url=f.href,x("using url",this.url),this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:l.isOriginEqual(this.url,t.href),sameScheme:l.isSchemeEqual(this.url,t.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function f(a){return 1e3===a||a>=3e3&&4999>=a}a("./shims");var g=a("url-parse"),h=a("inherits"),i=a("json3"),j=a("./utils/random"),k=a("./utils/escape"),l=a("./utils/url"),m=a("./utils/event"),n=a("./utils/transport"),o=a("./utils/object"),p=a("./utils/browser"),q=a("./utils/log"),r=a("./event/event"),s=a("./event/eventtarget"),t=a("./location"),u=a("./event/close"),v=a("./event/trans-message"),w=a("./info-receiver"),x=function(){};"production"!==c.env.NODE_ENV&&(d.dbg=a("debug"),x=d.dbg("sockjs-client:main"));var y;h(e,s),e.prototype.close=function(a,b){if(a&&!f(a))throw new Error("InvalidAccessError: Invalid code");if(b&&b.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==e.CLOSING&&this.readyState!==e.CLOSED){var c=!0;this._close(a||1e3,b||"Normal closure",c)}},e.prototype.send=function(a){if("string"!=typeof a&&(a=""+a),this.readyState===e.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===e.OPEN&&this._transport.send(k.quote(a))},e.version=a("./version"),e.CONNECTING=0,e.OPEN=1,e.CLOSING=2,e.CLOSED=3,e.prototype._receiveInfo=function(a,b){if(x("_receiveInfo",b),this._ir=null,!a)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(b),this._transUrl=a.base_url?a.base_url:this.url,a=o.extend(a,this._urlInfo),x("info",a);var c=y.filterToEnabled(this._transportsWhitelist,a);this._transports=c.main,x(this._transports.length+" enabled transports"),this._connect()},e.prototype._connect=function(){for(var a=this._transports.shift();a;a=this._transports.shift()){if(x("attempt",a.transportName),a.needBody&&(!d.document.body||"undefined"!=typeof d.document.readyState&&"complete"!==d.document.readyState&&"interactive"!==d.document.readyState))return x("waiting for body"),this._transports.unshift(a),void m.attachEvent("load",this._connect.bind(this));var b=this._rto*a.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),b),x("using timeout",b);var c=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());x("transport url",c);var e=new a(c,this._transUrl);return e.on("message",this._transportMessage.bind(this)),e.once("close",this._transportClose.bind(this)),e.transportName=a.transportName,void(this._transport=e)}this._close(2e3,"All transports failed",!1)},e.prototype._transportTimeout=function(){x("_transportTimeout"),this.readyState===e.CONNECTING&&this._transportClose(2007,"Transport timed out")},e.prototype._transportMessage=function(a){x("_transportMessage",a);var b,c=this,d=a.slice(0,1),e=a.slice(1);switch(d){case"o":return void this._open();case"h":return this.dispatchEvent(new r("heartbeat")),void x("heartbeat",this.transport)}if(e)try{b=i.parse(e)}catch(f){x("bad json",e)}if("undefined"==typeof b)return void x("empty payload",e);switch(d){case"a":Array.isArray(b)&&b.forEach(function(a){x("message",c.transport,a),c.dispatchEvent(new v(a))});break;case"m":x("message",this.transport,b),this.dispatchEvent(new v(b));break;case"c":Array.isArray(b)&&2===b.length&&this._close(b[0],b[1],!0)}},e.prototype._transportClose=function(a,b){return x("_transportClose",this.transport,a,b),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),f(a)||2e3===a||this.readyState!==e.CONNECTING?void this._close(a,b):void this._connect()},e.prototype._open=function(){x("_open",this._transport.transportName,this.readyState),this.readyState===e.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=e.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new r("open")),x("connected",this.transport)):this._close(1006,"Server lost session")},e.prototype._close=function(a,b,c){x("_close",this.transport,a,b,c,this.readyState);var d=!1;if(this._ir&&(d=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===e.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=e.CLOSING,setTimeout(function(){this.readyState=e.CLOSED,d&&this.dispatchEvent(new r("error"));var f=new u("close");f.wasClean=c||!1,f.code=a||1e3,f.reason=b,this.dispatchEvent(f),this.onmessage=this.onclose=this.onerror=null,x("disconnected")}.bind(this),0)},e.prototype.countRTO=function(a){return a>100?4*a:300+a},b.exports=function(b){return y=n(b),a("./iframe-bootstrap")(e,b),e}}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":18,"./event/event":20,"./event/eventtarget":21,"./event/trans-message":22,"./iframe-bootstrap":24,"./info-receiver":28,"./location":29,"./shims":31,"./utils/browser":60,"./utils/escape":61,"./utils/event":62,"./utils/log":64,"./utils/object":65,"./utils/random":66,"./utils/transport":67,"./utils/url":68,"./version":69,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,inherits:73,json3:74,"url-parse":75}],31:[function(){"use strict";function a(a){var b=+a;return b!==b?b=0:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b))),b}function b(a){return a>>>0}function c(){}var d,e=Array.prototype,f=Object.prototype,g=Function.prototype,h=String.prototype,i=e.slice,j=f.toString,k=function(a){return"[object Function]"===f.toString.call(a)},l=function(a){return"[object Array]"===j.call(a)},m=function(a){return"[object String]"===j.call(a)},n=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(a){return!1}}();d=n?function(a,b,c,d){!d&&b in a||Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:c})}:function(a,b,c,d){!d&&b in a||(a[b]=c)};var o=function(a,b,c){for(var e in b)f.hasOwnProperty.call(b,e)&&d(a,e,b[e],c)},p=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)};o(g,{bind:function(a){var b=this;if(!k(b))throw new TypeError("Function.prototype.bind called on incompatible "+b);for(var d=i.call(arguments,1),e=function(){if(this instanceof j){var c=b.apply(this,d.concat(i.call(arguments)));return Object(c)===c?c:this}return b.apply(a,d.concat(i.call(arguments)))},f=Math.max(0,b.length-d.length),g=[],h=0;f>h;h++)g.push("$"+h);var j=Function("binder","return function ("+g.join(",")+"){ return binder.apply(this, arguments); }")(e);return b.prototype&&(c.prototype=b.prototype,j.prototype=new c,c.prototype=null),j}}),o(Array,{isArray:l});var q=Object("a"),r="a"!==q[0]||!(0 in q),s=function(a){var b=!0,c=!0;return a&&(a.call("foo",function(a,c,d){"object"!=typeof d&&(b=!1)}),a.call([1],function(){c="string"==typeof this},"x")),!!a&&b&&c};o(e,{forEach:function(a){var b=p(this),c=r&&m(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if(!k(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}},!s(e.forEach));var t=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);o(e,{indexOf:function(b){var c=r&&m(this)?this.split(""):p(this),d=c.length>>>0;if(!d)return-1;var e=0;for(arguments.length>1&&(e=a(arguments[1])),e=e>=0?e:Math.max(0,d+e);d>e;e++)if(e in c&&c[e]===b)return e;return-1}},t);var u=h.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a=void 0===/()??/.exec("")[1];h.split=function(c,d){var f=this;if(void 0===c&&0===d)return[];if("[object RegExp]"!==j.call(c))return u.call(this,c,d);var g,h,i,k,l=[],m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.extended?"x":"")+(c.sticky?"y":""),n=0;for(c=new RegExp(c.source,m+"g"),f+="",a||(g=new RegExp("^"+c.source+"$(?!\\s)",m)),d=void 0===d?-1>>>0:b(d);(h=c.exec(f))&&(i=h.index+h[0].length,!(i>n&&(l.push(f.slice(n,h.index)),!a&&h.length>1&&h[0].replace(g,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(h[a]=void 0)}),h.length>1&&h.index<f.length&&e.push.apply(l,h.slice(1)),k=h[0].length,n=i,l.length>=d)));)c.lastIndex===h.index&&c.lastIndex++;return n===f.length?(k||!c.test(""))&&l.push(""):l.push(f.slice(n)),l.length>d?l.slice(0,d):l}}():"0".split(void 0,0).length&&(h.split=function(a,b){return void 0===a&&0===b?[]:u.call(this,a,b)});var v="	\n\f\r   ᠎             　\u2028\u2029﻿",w="​",x="["+v+"]",y=new RegExp("^"+x+x+"*"),z=new RegExp(x+x+"*$"),A=h.trim&&(v.trim()||!w.trim());o(h,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(y,"").replace(z,"")}},A);var B=h.substr,C="".substr&&"b"!=="0b".substr(-1);o(h,{substr:function(a,b){return B.call(this,0>a&&(a=this.length+a)<0?0:a,b)}},C)},{}],32:[function(a,b){"use strict";b.exports=[a("./transport/websocket"),a("./transport/xhr-streaming"),a("./transport/xdr-streaming"),a("./transport/eventsource"),a("./transport/lib/iframe-wrap")(a("./transport/eventsource")),a("./transport/htmlfile"),a("./transport/lib/iframe-wrap")(a("./transport/htmlfile")),a("./transport/xhr-polling"),a("./transport/xdr-polling"),a("./transport/lib/iframe-wrap")(a("./transport/xhr-polling")),a("./transport/jsonp-polling")]},{"./transport/eventsource":36,"./transport/htmlfile":37,"./transport/jsonp-polling":39,"./transport/lib/iframe-wrap":42,"./transport/websocket":54,"./transport/xdr-polling":55,"./transport/xdr-streaming":56,"./transport/xhr-polling":57,"./transport/xhr-streaming":58}],33:[function(a,b){(function(c,d){"use strict";function e(a,b,c,d){k(a,b);var e=this;f.call(this),setTimeout(function(){e._start(a,b,c,d)},0)}var f=a("events").EventEmitter,g=a("inherits"),h=a("../../utils/event"),i=a("../../utils/url"),j=d.XMLHttpRequest,k=function(){};"production"!==c.env.NODE_ENV&&(k=a("debug")("sockjs-client:browser:xhr")),g(e,f),e.prototype._start=function(a,b,c,d){var f=this;try{this.xhr=new j}catch(g){}if(!this.xhr)return k("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();b=i.addQuery(b,"t="+ +new Date),this.unloadRef=h.unloadAdd(function(){k("unload cleanup"),f._cleanup(!0)});try{this.xhr.open(a,b,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){k("xhr timeout"),f.emit("finish",0,""),f._cleanup(!1)})}catch(l){return k("exception",l),this.emit("finish",0,""),void this._cleanup(!1)}if(d&&d.noCredentials||!e.supportsCORS||(k("withCredentials"),this.xhr.withCredentials="true"),d&&d.headers)for(var m in d.headers)this.xhr.setRequestHeader(m,d.headers[m]);
this.xhr.onreadystatechange=function(){if(f.xhr){var a,b,c=f.xhr;switch(k("readyState",c.readyState),c.readyState){case 3:try{b=c.status,a=c.responseText}catch(d){}k("status",b),1223===b&&(b=204),200===b&&a&&a.length>0&&(k("chunk"),f.emit("chunk",b,a));break;case 4:b=c.status,k("status",b),1223===b&&(b=204),(12005===b||12029===b)&&(b=0),k("finish",b,c.responseText),f.emit("finish",b,c.responseText),f._cleanup(!1)}}};try{f.xhr.send(c)}catch(l){f.emit("finish",0,""),f._cleanup(!1)}},e.prototype._cleanup=function(a){if(k("cleanup"),this.xhr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),a)try{this.xhr.abort()}catch(b){}this.unloadRef=this.xhr=null}},e.prototype.close=function(){k("close"),this._cleanup(!0)},e.enabled=!!j;var l=["Active"].concat("Object").join("X");!e.enabled&&l in d&&(k("overriding xmlhttprequest"),j=function(){try{return new d[l]("Microsoft.XMLHTTP")}catch(a){return null}},e.enabled=!!new j);var m=!1;try{m="withCredentials"in new j}catch(n){}e.supportsCORS=m,b.exports=e}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":62,"../../utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],34:[function(a,b){(function(a){b.exports=a.EventSource}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(a,b){(function(a){b.exports=a.WebSocket||a.MozWebSocket}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],36:[function(a,b){"use strict";function c(a){if(!c.enabled())throw new Error("Transport created when disabled");e.call(this,a,"/eventsource",f,g)}var d=a("inherits"),e=a("./lib/ajax-based"),f=a("./receiver/eventsource"),g=a("./sender/xhr-cors"),h=a("eventsource");d(c,e),c.enabled=function(){return!!h},c.transportName="eventsource",c.roundTrips=2,b.exports=c},{"./lib/ajax-based":40,"./receiver/eventsource":45,"./sender/xhr-cors":51,eventsource:34,inherits:73}],37:[function(a,b){"use strict";function c(a){if(!e.enabled)throw new Error("Transport created when disabled");g.call(this,a,"/htmlfile",e,f)}var d=a("inherits"),e=a("./receiver/htmlfile"),f=a("./sender/xhr-local"),g=a("./lib/ajax-based");d(c,g),c.enabled=function(a){return e.enabled&&a.sameOrigin},c.transportName="htmlfile",c.roundTrips=2,b.exports=c},{"./lib/ajax-based":40,"./receiver/htmlfile":46,"./sender/xhr-local":53,inherits:73}],38:[function(a,b){(function(c){"use strict";function d(a,b,c){if(!d.enabled())throw new Error("Transport created when disabled");g.call(this);var e=this;this.origin=i.getOrigin(c),this.baseUrl=c,this.transUrl=b,this.transport=a,this.windowId=l.string(8);var f=i.addPath(c,"/iframe.html")+"#"+this.windowId;m(a,b,f),this.iframeObj=j.createIframe(f,function(a){m("err callback"),e.emit("close",1006,"Unable to load an iframe ("+a+")"),e.close()}),this.onmessageCallback=this._message.bind(this),k.attachEvent("message",this.onmessageCallback)}var e=a("inherits"),f=a("json3"),g=a("events").EventEmitter,h=a("../version"),i=a("../utils/url"),j=a("../utils/iframe"),k=a("../utils/event"),l=a("../utils/random"),m=function(){};"production"!==c.env.NODE_ENV&&(m=a("debug")("sockjs-client:transport:iframe")),e(d,g),d.prototype.close=function(){if(m("close"),this.removeAllListeners(),this.iframeObj){k.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(a){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(a){if(m("message",a.data),!i.isOriginEqual(a.origin,this.origin))return void m("not same origin",a.origin,this.origin);var b;try{b=f.parse(a.data)}catch(c){return void m("bad json",a.data)}if(b.windowId!==this.windowId)return void m("mismatched window id",b.windowId,this.windowId);switch(b.type){case"s":this.iframeObj.loaded(),this.postMessage("s",f.stringify([h,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",b.data);break;case"c":var d;try{d=f.parse(b.data)}catch(c){return void m("bad json",b.data)}this.emit("close",d[0],d[1]),this.close()}},d.prototype.postMessage=function(a,b){m("postMessage",a,b),this.iframeObj.post(f.stringify({windowId:this.windowId,type:a,data:b||""}),this.origin)},d.prototype.send=function(a){m("send",a),this.postMessage("m",a)},d.enabled=function(){return j.iframeEnabled},d.transportName="iframe",d.roundTrips=2,b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"../utils/event":62,"../utils/iframe":63,"../utils/random":66,"../utils/url":68,"../version":69,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73,json3:74}],39:[function(a,b){(function(c){"use strict";function d(a){if(!d.enabled())throw new Error("Transport created when disabled");f.call(this,a,"/jsonp",h,g)}var e=a("inherits"),f=a("./lib/sender-receiver"),g=a("./receiver/jsonp"),h=a("./sender/jsonp");e(d,f),d.enabled=function(){return!!c.document},d.transportName="jsonp-polling",d.roundTrips=1,d.needBody=!0,b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":44,"./receiver/jsonp":47,"./sender/jsonp":49,inherits:73}],40:[function(a,b){(function(c){"use strict";function d(a){return function(b,c,d){i("create ajax sender",b,c);var e={};"string"==typeof c&&(e.headers={"Content-type":"text/plain"});var f=g.addPath(b,"/xhr_send"),h=new a("POST",f,c,e);return h.once("finish",function(a){return i("finish",a),h=null,200!==a&&204!==a?d(new Error("http status "+a)):void d()}),function(){i("abort"),h.close(),h=null;var a=new Error("Aborted");a.code=1e3,d(a)}}}function e(a,b,c,e){h.call(this,a,b,d(e),c,e)}var f=a("inherits"),g=a("../../utils/url"),h=a("./sender-receiver"),i=function(){};"production"!==c.env.NODE_ENV&&(i=a("debug")("sockjs-client:ajax-based")),f(e,h),b.exports=e}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"../../utils/url":68,"./sender-receiver":44,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,inherits:73}],41:[function(a,b){(function(c){"use strict";function d(a,b){g(a),f.call(this),this.sendBuffer=[],this.sender=b,this.url=a}var e=a("inherits"),f=a("events").EventEmitter,g=function(){};"production"!==c.env.NODE_ENV&&(g=a("debug")("sockjs-client:buffered-sender")),e(d,f),d.prototype.send=function(a){g("send",a),this.sendBuffer.push(a),this.sendStop||this.sendSchedule()},d.prototype.sendScheduleWait=function(){g("sendScheduleWait");var a,b=this;this.sendStop=function(){g("sendStop"),b.sendStop=null,clearTimeout(a)},a=setTimeout(function(){g("timeout"),b.sendStop=null,b.sendSchedule()},25)},d.prototype.sendSchedule=function(){g("sendSchedule",this.sendBuffer.length);var a=this;if(this.sendBuffer.length>0){var b="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,b,function(b){a.sendStop=null,b?(g("error",b),a.emit("close",b.code||1006,"Sending error: "+b),a._cleanup()):a.sendScheduleWait()}),this.sendBuffer=[]}},d.prototype._cleanup=function(){g("_cleanup"),this.removeAllListeners()},d.prototype.stop=function(){g("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],42:[function(a,b){(function(c){"use strict";var d=a("inherits"),e=a("../iframe"),f=a("../../utils/object");b.exports=function(a){function b(b,c){e.call(this,a.transportName,b,c)}return d(b,e),b.enabled=function(b,d){if(!c.document)return!1;var g=f.extend({},d);return g.sameOrigin=!0,a.enabled(g)&&e.enabled()},b.transportName="iframe-"+a.transportName,b.needBody=!0,b.roundTrips=e.roundTrips+a.roundTrips-1,b.facadeTransport=a,b}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":65,"../iframe":38,inherits:73}],43:[function(a,b){(function(c){"use strict";function d(a,b,c){g(b),f.call(this),this.Receiver=a,this.receiveUrl=b,this.AjaxObject=c,this._scheduleReceiver()}var e=a("inherits"),f=a("events").EventEmitter,g=function(){};"production"!==c.env.NODE_ENV&&(g=a("debug")("sockjs-client:polling")),e(d,f),d.prototype._scheduleReceiver=function(){g("_scheduleReceiver");var a=this,b=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);b.on("message",function(b){g("message",b),a.emit("message",b)}),b.once("close",function(c,d){g("close",c,d,a.pollIsClosing),a.poll=b=null,a.pollIsClosing||("network"===d?a._scheduleReceiver():(a.emit("close",c||1006,d),a.removeAllListeners()))})},d.prototype.abort=function(){g("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],44:[function(a,b){(function(c){"use strict";function d(a,b,c,d,e){var j=f.addPath(a,b);i(j);var k=this;g.call(this,a,c),this.poll=new h(d,j,e),this.poll.on("message",function(a){i("poll message",a),k.emit("message",a)}),this.poll.once("close",function(a,b){i("poll close",a,b),k.poll=null,k.emit("close",a,b),k.close()})}var e=a("inherits"),f=a("../../utils/url"),g=a("./buffered-sender"),h=a("./polling"),i=function(){};"production"!==c.env.NODE_ENV&&(i=a("debug")("sockjs-client:sender-receiver")),e(d,g),d.prototype.close=function(){i("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"../../utils/url":68,"./buffered-sender":41,"./polling":43,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,inherits:73}],45:[function(a,b){(function(c){"use strict";function d(a){h(a),f.call(this);var b=this,c=this.es=new g(a);c.onmessage=function(a){h("message",a.data),b.emit("message",decodeURI(a.data))},c.onerror=function(a){h("error",c.readyState,a);var d=2!==c.readyState?"network":"permanent";b._cleanup(),b._close(d)}}var e=a("inherits"),f=a("events").EventEmitter,g=a("eventsource"),h=function(){};"production"!==c.env.NODE_ENV&&(h=a("debug")("sockjs-client:receiver:eventsource")),e(d,f),d.prototype.abort=function(){h("abort"),this._cleanup(),this._close("user")},d.prototype._cleanup=function(){h("cleanup");var a=this.es;a&&(a.onmessage=a.onerror=null,a.close(),this.es=null)},d.prototype._close=function(a){h("close",a);var b=this;setTimeout(function(){b.emit("close",null,a),b.removeAllListeners()},200)},b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,eventsource:34,inherits:73}],46:[function(a,b){(function(c,d){"use strict";function e(a){k(a),i.call(this);var b=this;g.polluteGlobalNamespace(),this.id="a"+j.string(6),a=h.addQuery(a,"c="+decodeURIComponent(g.WPrefix+"."+this.id)),k("using htmlfile",e.htmlfileEnabled);var c=e.htmlfileEnabled?g.createHtmlfile:g.createIframe;d[g.WPrefix][this.id]={start:function(){k("start"),b.iframeObj.loaded()},message:function(a){k("message",a),b.emit("message",a)},stop:function(){k("stop"),b._cleanup(),b._close("network")}},this.iframeObj=c(a,function(){k("callback"),b._cleanup(),b._close("permanent")})}var f=a("inherits"),g=a("../../utils/iframe"),h=a("../../utils/url"),i=a("events").EventEmitter,j=a("../../utils/random"),k=function(){};"production"!==c.env.NODE_ENV&&(k=a("debug")("sockjs-client:receiver:htmlfile")),f(e,i),e.prototype.abort=function(){k("abort"),this._cleanup(),this._close("user")},e.prototype._cleanup=function(){k("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete d[g.WPrefix][this.id]},e.prototype._close=function(a){k("_close",a),this.emit("close",null,a),this.removeAllListeners()},e.htmlfileEnabled=!1;var l=["Active"].concat("Object").join("X");if(l in d)try{e.htmlfileEnabled=!!new d[l]("htmlfile")}catch(m){}e.enabled=e.htmlfileEnabled||g.iframeEnabled,b.exports=e}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":63,"../../utils/random":66,"../../utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],47:[function(a,b){(function(c,d){"use strict";function e(a){l(a);var b=this;k.call(this),f.polluteGlobalNamespace(),this.id="a"+g.string(6);var c=i.addQuery(a,"c="+encodeURIComponent(f.WPrefix+"."+this.id));d[f.WPrefix][this.id]=this._callback.bind(this),this._createScript(c),this.timeoutId=setTimeout(function(){l("timeout"),b._abort(new Error("JSONP script loaded abnormally (timeout)"))},e.timeout)}var f=a("../../utils/iframe"),g=a("../../utils/random"),h=a("../../utils/browser"),i=a("../../utils/url"),j=a("inherits"),k=a("events").EventEmitter,l=function(){};"production"!==c.env.NODE_ENV&&(l=a("debug")("sockjs-client:receiver:jsonp")),j(e,k),e.prototype.abort=function(){if(l("abort"),d[f.WPrefix][this.id]){var a=new Error("JSONP user aborted read");a.code=1e3,this._abort(a)}},e.timeout=35e3,e.scriptErrorTimeout=1e3,e.prototype._callback=function(a){l("_callback",a),this._cleanup(),this.aborting||(a&&(l("message",a),this.emit("message",a)),this.emit("close",null,"network"),this.removeAllListeners())},e.prototype._abort=function(a){l("_abort",a),this._cleanup(),this.aborting=!0,this.emit("close",a.code,a.message),this.removeAllListeners()},e.prototype._cleanup=function(){if(l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var a=this.script;a.parentNode.removeChild(a),a.onreadystatechange=a.onerror=a.onload=a.onclick=null,this.script=null}delete d[f.WPrefix][this.id]},e.prototype._scriptError=function(){l("_scriptError");var a=this;this.errorTimer||(this.errorTimer=setTimeout(function(){a.loadedOkay||a._abort(new Error("JSONP script loaded abnormally (onerror)"))},e.scriptErrorTimeout))},e.prototype._createScript=function(a){l("_createScript",a);var b,c=this,e=this.script=d.document.createElement("script");if(e.id="a"+g.string(8),e.src=a,e.type="text/javascript",e.charset="UTF-8",e.onerror=this._scriptError.bind(this),e.onload=function(){l("onload"),c._abort(new Error("JSONP script loaded abnormally (onload)"))},e.onreadystatechange=function(){if(l("onreadystatechange",e.readyState),/loaded|closed/.test(e.readyState)){if(e&&e.htmlFor&&e.onclick){c.loadedOkay=!0;try{e.onclick()}catch(a){}}e&&c._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof e.async&&d.document.attachEvent)if(h.isOpera())b=this.script2=d.document.createElement("script"),b.text="try{var a = document.getElementById('"+e.id+"'); if(a)a.onerror();}catch(x){};",e.async=b.async=!1;else{try{e.htmlFor=e.id,e.event="onclick"}catch(f){}e.async=!0}"undefined"!=typeof e.async&&(e.async=!0);var i=d.document.getElementsByTagName("head")[0];i.insertBefore(e,i.firstChild),b&&i.insertBefore(b,i.firstChild)},b.exports=e}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":60,"../../utils/iframe":63,"../../utils/random":66,"../../utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],48:[function(a,b){(function(c){"use strict";function d(a,b){g(a),f.call(this);var c=this;this.bufferPosition=0,this.xo=new b("POST",a,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,b){g("finish",a,b),c._chunkHandler(a,b),c.xo=null;var d=200===a?"network":"permanent";g("close",d),c.emit("close",null,d),c._cleanup()})}var e=a("inherits"),f=a("events").EventEmitter,g=function(){};"production"!==c.env.NODE_ENV&&(g=a("debug")("sockjs-client:receiver:xhr")),e(d,f),d.prototype._chunkHandler=function(a,b){if(g("_chunkHandler",a),200===a&&b)for(var c=-1;;this.bufferPosition+=c+1){var d=b.slice(this.bufferPosition);if(c=d.indexOf("\n"),-1===c)break;var e=d.slice(0,c);e&&(g("message",e),this.emit("message",e))}},d.prototype._cleanup=function(){g("_cleanup"),this.removeAllListeners()},d.prototype.abort=function(){g("abort"),this.xo&&(this.xo.close(),g("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],49:[function(a,b){(function(c,d){"use strict";function e(a){i("createIframe",a);try{return d.document.createElement('<iframe name="'+a+'">')}catch(b){var c=d.document.createElement("iframe");return c.name=a,c}}function f(){i("createForm"),j=d.document.createElement("form"),j.style.display="none",j.style.position="absolute",j.method="POST",j.enctype="application/x-www-form-urlencoded",j.acceptCharset="UTF-8",k=d.document.createElement("textarea"),k.name="d",j.appendChild(k),d.document.body.appendChild(j)}var g=a("../../utils/random"),h=a("../../utils/url"),i=function(){};"production"!==c.env.NODE_ENV&&(i=a("debug")("sockjs-client:sender:jsonp"));var j,k;b.exports=function(a,b,c){i(a,b),j||f();var d="a"+g.string(8);j.target=d,j.action=h.addQuery(h.addPath(a,"/jsonp_send"),"i="+d);var l=e(d);l.id=d,l.style.display="none",j.appendChild(l);try{k.value=b}catch(m){}j.submit();var n=function(a){i("completed",d,a),l.onerror&&(l.onreadystatechange=l.onerror=l.onload=null,setTimeout(function(){i("cleaning up",d),l.parentNode.removeChild(l),l=null},500),k.value="",c(a))};return l.onerror=function(){i("onerror",d),n()},l.onload=function(){i("onload",d),n()},l.onreadystatechange=function(a){i("onreadystatechange",d,l.readyState,a),"complete"===l.readyState&&n()},function(){i("aborted",d),n(new Error("Aborted"))}}}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":66,"../../utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70}],50:[function(a,b){(function(c,d){"use strict";function e(a,b,c){k(a,b);var d=this;f.call(this),setTimeout(function(){d._start(a,b,c)},0)}var f=a("events").EventEmitter,g=a("inherits"),h=a("../../utils/event"),i=a("../../utils/browser"),j=a("../../utils/url"),k=function(){};"production"!==c.env.NODE_ENV&&(k=a("debug")("sockjs-client:sender:xdr")),g(e,f),e.prototype._start=function(a,b,c){k("_start");var e=this,f=new d.XDomainRequest;b=j.addQuery(b,"t="+ +new Date),f.onerror=function(){k("onerror"),e._error()},f.ontimeout=function(){k("ontimeout"),e._error()},f.onprogress=function(){k("progress",f.responseText),e.emit("chunk",200,f.responseText)},f.onload=function(){k("load"),e.emit("finish",200,f.responseText),e._cleanup(!1)},this.xdr=f,this.unloadRef=h.unloadAdd(function(){e._cleanup(!0)});try{this.xdr.open(a,b),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(c)}catch(g){this._error()}},e.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},e.prototype._cleanup=function(a){if(k("cleanup",a),this.xdr){if(this.removeAllListeners(),h.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,a)try{this.xdr.abort()}catch(b){}this.unloadRef=this.xdr=null}},e.prototype.close=function(){k("close"),this._cleanup(!0)},e.enabled=!(!d.XDomainRequest||!i.hasDomain()),b.exports=e}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":60,"../../utils/event":62,"../../utils/url":68,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],51:[function(a,b){"use strict";function c(a,b,c,d){e.call(this,a,b,c,d)}var d=a("inherits"),e=a("../driver/xhr");d(c,e),c.enabled=e.enabled&&e.supportsCORS,b.exports=c},{"../driver/xhr":33,inherits:73}],52:[function(a,b){"use strict";function c(){var a=this;d.call(this),this.to=setTimeout(function(){a.emit("finish",200,"{}")},c.timeout)}var d=a("events").EventEmitter,e=a("inherits");e(c,d),c.prototype.close=function(){clearTimeout(this.to)},c.timeout=2e3,b.exports=c},{events:19,inherits:73}],53:[function(a,b){"use strict";function c(a,b,c){e.call(this,a,b,c,{noCredentials:!0})}var d=a("inherits"),e=a("../driver/xhr");d(c,e),c.enabled=e.enabled,b.exports=c},{"../driver/xhr":33,inherits:73}],54:[function(a,b){(function(c){"use strict";function d(a){if(!d.enabled())throw new Error("Transport created when disabled");h.call(this),j("constructor",a);var b=this,c=f.addPath(a,"/websocket");c="https"===c.slice(0,5)?"wss"+c.slice(5):"ws"+c.slice(4),this.url=c,this.ws=new i(this.url),this.ws.onmessage=function(a){j("message event",a.data),b.emit("message",a.data)},this.unloadRef=e.unloadAdd(function(){j("unload"),b.ws.close()}),this.ws.onclose=function(a){j("close event",a.code,a.reason),b.emit("close",a.code,a.reason),b._cleanup()},this.ws.onerror=function(a){j("error event",a),b.emit("close",1006,"WebSocket connection broken"),b._cleanup()}}var e=a("../utils/event"),f=a("../utils/url"),g=a("inherits"),h=a("events").EventEmitter,i=a("./driver/websocket"),j=function(){};"production"!==c.env.NODE_ENV&&(j=a("debug")("sockjs-client:websocket")),g(d,h),d.prototype.send=function(a){var b="["+a+"]";j("send",b),this.ws.send(b)},d.prototype.close=function(){j("close"),this.ws&&this.ws.close(),this._cleanup()},d.prototype._cleanup=function(){j("_cleanup");var a=this.ws;a&&(a.onmessage=a.onclose=a.onerror=null),e.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},d.enabled=function(){return j("enabled"),!!i},d.transportName="websocket",d.roundTrips=2,b.exports=d}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"../utils/event":62,"../utils/url":68,"./driver/websocket":35,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,events:19,inherits:73}],55:[function(a,b){"use strict";function c(a){if(!h.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",g,h)}var d=a("inherits"),e=a("./lib/ajax-based"),f=a("./xdr-streaming"),g=a("./receiver/xhr"),h=a("./sender/xdr");d(c,e),c.enabled=f.enabled,c.transportName="xdr-polling",c.roundTrips=2,b.exports=c},{"./lib/ajax-based":40,"./receiver/xhr":48,"./sender/xdr":50,"./xdr-streaming":56,inherits:73}],56:[function(a,b){"use strict";function c(a){if(!g.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr_streaming",f,g)}var d=a("inherits"),e=a("./lib/ajax-based"),f=a("./receiver/xhr"),g=a("./sender/xdr");d(c,e),c.enabled=function(a){return a.cookie_needed||a.nullOrigin?!1:g.enabled&&a.sameScheme},c.transportName="xdr-streaming",c.roundTrips=2,b.exports=c},{"./lib/ajax-based":40,"./receiver/xhr":48,"./sender/xdr":50,inherits:73}],57:[function(a,b){"use strict";function c(a){if(!h.enabled&&!g.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",f,g)}var d=a("inherits"),e=a("./lib/ajax-based"),f=a("./receiver/xhr"),g=a("./sender/xhr-cors"),h=a("./sender/xhr-local");d(c,e),c.enabled=function(a){return a.nullOrigin?!1:h.enabled&&a.sameOrigin?!0:g.enabled},c.transportName="xhr-polling",c.roundTrips=2,b.exports=c},{"./lib/ajax-based":40,"./receiver/xhr":48,"./sender/xhr-cors":51,"./sender/xhr-local":53,inherits:73}],58:[function(a,b){(function(c){"use strict";function d(a){if(!i.enabled&&!h.enabled)throw new Error("Transport created when disabled");f.call(this,a,"/xhr_streaming",g,h)}var e=a("inherits"),f=a("./lib/ajax-based"),g=a("./receiver/xhr"),h=a("./sender/xhr-cors"),i=a("./sender/xhr-local"),j=a("../utils/browser");e(d,f),d.enabled=function(a){return a.nullOrigin?!1:j.isOpera()?!1:h.enabled},d.transportName="xhr-streaming",d.roundTrips=2,d.needBody=!!c.document,b.exports=d}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":60,"./lib/ajax-based":40,"./receiver/xhr":48,"./sender/xhr-cors":51,"./sender/xhr-local":53,inherits:73}],59:[function(a,b){(function(a){"use strict";b.exports.randomBytes=a.crypto&&a.crypto.getRandomValues?function(b){var c=new Uint8Array(b);return a.crypto.getRandomValues(c),c}:function(a){for(var b=new Array(a),c=0;a>c;c++)b[c]=Math.floor(256*Math.random());return b}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(a,b){(function(a){"use strict";b.exports={isOpera:function(){return a.navigator&&/opera/i.test(a.navigator.userAgent)},isKonqueror:function(){return a.navigator&&/konqueror/i.test(a.navigator.userAgent)},hasDomain:function(){if(!a.document)return!0;try{return!!a.document.domain}catch(b){return!1}}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(a,b){"use strict";var c,d=a("json3"),e=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f=function(a){var b,c={},d=[];for(b=0;65536>b;b++)d.push(String.fromCharCode(b));return a.lastIndex=0,d.join("").replace(a,function(a){return c[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,c};b.exports={quote:function(a){var b=d.stringify(a);return e.lastIndex=0,e.test(b)?(c||(c=f(e)),b.replace(e,function(a){return c[a]})):b}}},{json3:74}],62:[function(a,b){(function(c){"use strict";var d=a("./random"),e={},f=!1,g=c.chrome&&c.chrome.app&&c.chrome.app.runtime;b.exports={attachEvent:function(a,b){"undefined"!=typeof c.addEventListener?c.addEventListener(a,b,!1):c.document&&c.attachEvent&&(c.document.attachEvent("on"+a,b),c.attachEvent("on"+a,b))},detachEvent:function(a,b){"undefined"!=typeof c.addEventListener?c.removeEventListener(a,b,!1):c.document&&c.detachEvent&&(c.document.detachEvent("on"+a,b),c.detachEvent("on"+a,b))},unloadAdd:function(a){if(g)return null;var b=d.string(8);return e[b]=a,f&&setTimeout(this.triggerUnloadCallbacks,0),b},unloadDel:function(a){a in e&&delete e[a]},triggerUnloadCallbacks:function(){for(var a in e)e[a](),delete e[a]}};var h=function(){f||(f=!0,b.exports.triggerUnloadCallbacks())};g||b.exports.attachEvent("unload",h)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":66}],63:[function(a,b){(function(c,d){"use strict";var e=a("./event"),f=a("json3"),g=a("./browser"),h=function(){};"production"!==c.env.NODE_ENV&&(h=a("debug")("sockjs-client:utils:iframe")),b.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){b.exports.WPrefix in d||(d[b.exports.WPrefix]={})},postMessage:function(a,c){d.parent!==d?d.parent.postMessage(f.stringify({windowId:b.exports.currentWindowId,type:a,data:c||""}),"*"):h("Cannot postMessage, no parent window.",a,c)},createIframe:function(a,b){var c,f,g=d.document.createElement("iframe"),i=function(){h("unattach"),clearTimeout(c);try{g.onload=null}catch(a){}g.onerror=null},j=function(){h("cleanup"),g&&(i(),setTimeout(function(){g&&g.parentNode.removeChild(g),g=null},0),e.unloadDel(f))},k=function(a){h("onerror",a),g&&(j(),b(a))},l=function(a,b){h("post",a,b);try{setTimeout(function(){g&&g.contentWindow&&g.contentWindow.postMessage(a,b)},0)}catch(c){}};return g.src=a,g.style.display="none",g.style.position="absolute",g.onerror=function(){k("onerror")},g.onload=function(){h("onload"),clearTimeout(c),c=setTimeout(function(){k("onload timeout")},2e3)},d.document.body.appendChild(g),c=setTimeout(function(){k("timeout")},15e3),f=e.unloadAdd(j),{post:l,cleanup:j,loaded:i}},createHtmlfile:function(a,c){var f,g,i,j=["Active"].concat("Object").join("X"),k=new d[j]("htmlfile"),l=function(){clearTimeout(f),i.onerror=null},m=function(){k&&(l(),e.unloadDel(g),i.parentNode.removeChild(i),i=k=null,CollectGarbage())},n=function(a){h("onerror",a),k&&(m(),c(a))},o=function(a,b){try{setTimeout(function(){i&&i.contentWindow&&i.contentWindow.postMessage(a,b)},0)}catch(c){}};k.open(),k.write('<html><script>document.domain="'+d.document.domain+'";</script></html>'),k.close(),k.parentWindow[b.exports.WPrefix]=d[b.exports.WPrefix];var p=k.createElement("div");return k.body.appendChild(p),i=k.createElement("iframe"),p.appendChild(i),i.src=a,i.onerror=function(){n("onerror")},f=setTimeout(function(){n("timeout")},15e3),g=e.unloadAdd(m),{post:o,cleanup:m,loaded:l}}},b.exports.iframeEnabled=!1,d.document&&(b.exports.iframeEnabled=("function"==typeof d.postMessage||"object"==typeof d.postMessage)&&!g.isKonqueror())}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":60,"./event":62,"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,json3:74}],64:[function(a,b){(function(a){"use strict";var c={};["log","debug","warn"].forEach(function(b){var d=a.console&&a.console[b]&&a.console[b].apply;c[b]=d?function(){return a.console[b].apply(a.console,arguments)}:"log"===b?function(){}:c.log}),b.exports=c}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],65:[function(a,b){"use strict";b.exports={isObject:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},extend:function(a){if(!this.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}}},{}],66:[function(a,b){"use strict";var c=a("crypto"),d="abcdefghijklmnopqrstuvwxyz012345";b.exports={string:function(a){for(var b=d.length,e=c.randomBytes(a),f=[],g=0;a>g;g++)f.push(d.substr(e[g]%b,1));
return f.join("")},number:function(a){return Math.floor(Math.random()*a)},numberString:function(a){var b=(""+(a-1)).length,c=new Array(b+1).join("0");return(c+this.number(a)).slice(-b)}}},{crypto:59}],67:[function(a,b){(function(c){"use strict";var d=function(){};"production"!==c.env.NODE_ENV&&(d=a("debug")("sockjs-client:utils:transport")),b.exports=function(a){return{filterToEnabled:function(b,c){var e={main:[],facade:[]};return b?"string"==typeof b&&(b=[b]):b=[],a.forEach(function(a){return a?"websocket"===a.transportName&&c.websocket===!1?void d("disabled from server","websocket"):b.length&&-1===b.indexOf(a.transportName)?void d("not in whitelist",a.transportName):void(a.enabled(c)?(d("enabled",a.transportName),e.main.push(a),a.facadeTransport&&e.facade.push(a.facadeTransport)):d("disabled",a.transportName)):void 0}),e}}}}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70}],68:[function(a,b){(function(c){"use strict";var d=a("url-parse"),e=function(){};"production"!==c.env.NODE_ENV&&(e=a("debug")("sockjs-client:utils:url")),b.exports={getOrigin:function(a){if(!a)return null;var b=new d(a);if("file:"===b.protocol)return null;var c=b.port;return c||(c="https:"===b.protocol?"443":"80"),b.protocol+"//"+b.hostname+":"+c},isOriginEqual:function(a,b){var c=this.getOrigin(a)===this.getOrigin(b);return e("same",a,b,c),c},isSchemeEqual:function(a,b){return a.split(":")[0]===b.split(":")[0]},addPath:function(a,b){var c=a.split("?");return c[0]+b+(c[1]?"?"+c[1]:"")},addQuery:function(a,b){return a+(-1===a.indexOf("?")?"?"+b:"&"+b)}}}).call(this,a("/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/data/client/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3,debug:70,"url-parse":75}],69:[function(a,b){b.exports="1.0.2"},{}],70:[function(a,b,c){function d(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function e(){var a=arguments,b=this.useColors;if(a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff),!b)return a;var d="color: "+this.color;a=[a[0],d,"color: inherit"].concat(Array.prototype.slice.call(a,1));var e=0,f=0;return a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d),a}function f(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(b){}}function h(){var a;try{a=c.storage.debug}catch(b){}return a}function i(){try{return window.localStorage}catch(a){}}c=b.exports=a("./debug"),c.log=f,c.formatArgs=e,c.save=g,c.load=h,c.useColors=d,c.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:i(),c.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],c.formatters.j=function(a){return JSON.stringify(a)},c.enable(h())},{"./debug":71}],71:[function(a,b,c){function d(){return c.colors[k++%c.colors.length]}function e(a){function b(){}function e(){var a=e,b=+new Date,f=b-(j||b);a.diff=f,a.prev=j,a.curr=b,j=b,null==a.useColors&&(a.useColors=c.useColors()),null==a.color&&a.useColors&&(a.color=d());var g=Array.prototype.slice.call(arguments);g[0]=c.coerce(g[0]),"string"!=typeof g[0]&&(g=["%o"].concat(g));var h=0;g[0]=g[0].replace(/%([a-z%])/g,function(b,d){if("%%"===b)return b;h++;var e=c.formatters[d];if("function"==typeof e){var f=g[h];b=e.call(a,f),g.splice(h,1),h--}return b}),"function"==typeof c.formatArgs&&(g=c.formatArgs.apply(a,g));var i=e.log||c.log||console.log.bind(console);i.apply(a,g)}b.enabled=!1,e.enabled=!0;var f=c.enabled(a)?e:b;return f.namespace=a,f}function f(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),d=b.length,e=0;d>e;e++)b[e]&&(a=b[e].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))}function g(){c.enable("")}function h(a){var b,d;for(b=0,d=c.skips.length;d>b;b++)if(c.skips[b].test(a))return!1;for(b=0,d=c.names.length;d>b;b++)if(c.names[b].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}c=b.exports=e,c.coerce=i,c.disable=g,c.enable=f,c.enabled=h,c.humanize=a("ms"),c.names=[],c.skips=[],c.formatters={};var j,k=0},{ms:72}],72:[function(a,b){function c(a){if(a=""+a,!(a.length>1e4)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*k;case"days":case"day":case"d":return c*j;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*h;case"seconds":case"second":case"secs":case"sec":case"s":return c*g;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c}}}}function d(a){return a>=j?Math.round(a/j)+"d":a>=i?Math.round(a/i)+"h":a>=h?Math.round(a/h)+"m":a>=g?Math.round(a/g)+"s":a+"ms"}function e(a){return f(a,j,"day")||f(a,i,"hour")||f(a,h,"minute")||f(a,g,"second")||a+" ms"}function f(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var g=1e3,h=60*g,i=60*h,j=24*i,k=365.25*j;b.exports=function(a,b){return b=b||{},"string"==typeof a?c(a):b.long?e(a):d(a)}},{}],73:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],74:[function(a,b,c){(function(a){(function(){function d(a,b){function c(a){if(c[a]!==q)return c[a];var d;if("bug-string-char-index"==a)d="a"!="a"[0];else if("json"==a)d=c("json-stringify")&&c("json-parse");else{var f,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=b.stringify,k="function"==typeof i&&t;if(k){(f=function(){return 1}).toJSON=f;try{k="0"===i(0)&&"0"===i(new e)&&'""'==i(new g)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(f)&&"[1]"==i([f])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[f,!0,!1,null,"\x00\b\n\f\r	"]})==h&&"1"===i(null,f)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(l){k=!1}}d=k}if("json-parse"==a){var m=b.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){f=m(h);var n=5==f.a.length&&1===f.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}d=n}}return c[a]=!!d}a||(a=h.Object()),b||(b=h.Object());var e=a.Number||h.Number,g=a.String||h.String,i=a.Object||h.Object,j=a.Date||h.Date,k=a.SyntaxError||h.SyntaxError,l=a.TypeError||h.TypeError,m=a.Math||h.Math,n=a.JSON||h.JSON;"object"==typeof n&&n&&(b.stringify=n.stringify,b.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!c("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=c("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,d,e,g=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)o.call(d,e)&&g++;return c=d=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var c,e,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&f[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)g&&"prototype"==c||!h.call(a,c)||b(c);for(e=d.length;c=d[--e];h.call(a,c)&&b(c));}),p(a,b)},!c("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};b.stringify=function(a,b,c){var d,e,g,h;if(f[typeof b]&&b)if((h=s.call(b))==v)e=b;else if(h==z){g={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(c)if((h=s.call(c))==x){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==y&&(d=c.length<=10?c:c.slice(0,10));return K("",(i={},i[""]=a,i),e,g,d,"",[])}}if(!c("json-parse")){var L,M,N=g.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return b.runInContext=d,b}var e="function"==typeof define&&define.amd,f={"function":!0,object:!0},g=f[typeof c]&&c&&!c.nodeType&&c,h=f[typeof window]&&window||this,i=g&&f[typeof b]&&b&&!b.nodeType&&"object"==typeof a&&a;if(!i||i.global!==i&&i.window!==i&&i.self!==i||(h=i),g&&!e)d(h,g);else{var j=h.JSON,k=h.JSON3,l=!1,m=d(h,h.JSON3={noConflict:function(){return l||(l=!0,h.JSON=j,h.JSON3=k,j=k=null),m}});h.JSON={parse:m.parse,stringify:m.stringify}}e&&define(function(){return m})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(a,b){"use strict";function c(a,b,i){if(!(this instanceof c))return new c(a,b,i);var j,k,l,m,n=g.test(a),o=typeof b,p=this,q=0;for("object"!==o&&"string"!==o&&(i=b,b=null),i&&"function"!=typeof i&&(i=f.parse),b=e(b);q<h.length;q++)k=h[q],j=k[0],m=k[1],j!==j?p[m]=a:"string"==typeof j?~(l=a.indexOf(j))&&("number"==typeof k[2]?(p[m]=a.slice(0,l),a=a.slice(l+k[2])):(p[m]=a.slice(l),a=a.slice(0,l))):(l=j.exec(a))&&(p[m]=l[1],a=a.slice(0,a.length-l[0].length)),p[m]=p[m]||(k[3]||"port"===m&&n?b[m]||"":""),k[4]&&(p[m]=p[m].toLowerCase());i&&(p.query=i(p.query)),d(p.port,p.protocol)||(p.host=p.hostname,p.port=""),p.username=p.password="",p.auth&&(k=p.auth.split(":"),p.username=k[0]||"",p.password=k[1]||""),p.href=p.toString()}var d=a("requires-port"),e=a("./lolcation"),f=a("querystringify"),g=/^\/(?!\/)/,h=[["#","hash"],["?","query"],["//","protocol",2,1,1],["/","pathname"],["@","auth",1],[0/0,"host",void 0,1,1],[/\:(\d+)$/,"port"],[0/0,"hostname",void 0,1,1]];c.prototype.set=function(a,b,c){var e=this;return"query"===a?("string"==typeof b&&b.length&&(b=(c||f.parse)(b)),e[a]=b):"port"===a?(e[a]=b,d(b,e.protocol)?b&&(e.host=e.hostname+":"+b):(e.host=e.hostname,e[a]="")):"hostname"===a?(e[a]=b,e.port&&(b+=":"+e.port),e.host=b):"host"===a?(e[a]=b,/\:\d+/.test(b)&&(b=b.split(":"),e.hostname=b[0],e.port=b[1])):e[a]=b,e.href=e.toString(),e},c.prototype.toString=function(a){a&&"function"==typeof a||(a=f.stringify);var b,c=this,d=c.protocol+"//";return c.username&&(d+=c.username,c.password&&(d+=":"+c.password),d+="@"),d+=c.hostname,c.port&&(d+=":"+c.port),d+=c.pathname,c.query&&(b="object"==typeof c.query?a(c.query):c.query,d+=("?"===b.charAt(0)?"":"?")+b),c.hash&&(d+=c.hash),d},c.qs=f,c.location=e,b.exports=c},{"./lolcation":76,querystringify:77,"requires-port":78}],76:[function(a,b){(function(c){"use strict";var d,e={hash:1,query:1};b.exports=function(b){b=b||c.location||{},d=d||a("./");var f,g={},h=typeof b;if("blob:"===b.protocol)g=new d(unescape(b.pathname),{});else if("string"===h){g=new d(b,{});for(f in e)delete g[f]}else if("object"===h)for(f in b)f in e||(g[f]=b[f]);return g}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":75}],77:[function(a,b,c){"use strict";function d(a){for(var b,c=/([^=?&]+)=([^&]*)/g,d={};b=c.exec(a);d[decodeURIComponent(b[1])]=decodeURIComponent(b[2]));return d}function e(a,b){b=b||"";var c=[];"string"!=typeof b&&(b="?");for(var d in a)f.call(a,d)&&c.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return c.length?b+c.join("&"):""}var f=Object.prototype.hasOwnProperty;c.stringify=e,c.parse=d},{}],78:[function(a,b){"use strict";b.exports=function(a,b){if(b=b.split(":")[0],a=+a,!a)return!1;switch(b){case"http":case"ws":return 80!==a;case"https":case"wss":return 443!==a;case"ftp":return 22!==a;case"gopher":return 70!==a;case"file":return!1}return 0!==a}},{}],79:[function(a,b){function c(a,b){"use strict";if(!(this instanceof c))return new c(a,b);if(!a)throw new Error("No channel defined");b=i({protocols:["websocket","xdr","websocket-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],autoReconnect:!0},b),this.p={},this.p.args=arguments,this.readyState=k.CLOSED;var h=this.p;h.callbackId=0,h.callbacks={},h.roomHandlers={},h.sock=new g(e,null,{transports:b.protocols}),h.autoReconnect=b.autoReconnect;var l=this,m=h.callbackId++;h.callbacks[m]=function(a,b){a||(l.clientId=b.clientId,l.readyState=k.OPEN),l.trigger("open",a)},f.mixin(h),j(h.sock,h),h.on("open",function(){h.sock.send(JSON.stringify({action:"handshake",channel:a,version:2,callback:m}))}),h.on("message",function(a){var b=JSON.parse(a.data);if(void 0!==b.callback){var c=b.callback,d=h.callbacks[c];d&&"function"==typeof d&&d(b.error,b.data),delete h.callbacks[c]}else b.error?l.trigger("error",b.error):h.roomHandlers[b.room](b.message)}),h.on("close",function(a){l.readyState!==k.AUTHENTICATED&&h.autoReconnect&&a&&1006===a.code?(l.trigger("close",{type:"reconnect",code:1e4}),d(l,0,b,a)):l.trigger("close",a)})}function d(a,b,e,f){return b>=25?a.trigger("close",f):void setTimeout(function(){var g=new c(a.p.args[0],a.p.args[1]),h=a.p.roomHandlers;g.on("open",function(){j(g.p.sock,a.p),a.p.sock=g.p.sock;for(var b in h)var c=g.subscribe(b),d=h[b]}),g.on("close",function(){d(a,b+1,e,f)})},5e3*(Math.random()+.5))}var e="https://api2.scaledrone.com/socket",f=a("backbone-events-standalone"),g=a("sockjs-client"),h=a("./room.js"),i=a("lodash.defaults"),j=(a("lodash.after"),a("./sock_events.js")),k={CLOSED:0,OPEN:1,AUTHENTICATED:2};f.mixin(c.prototype),c.prototype.subscribe=function(a){if(!a)throw new Error("No room defined");var b=this.p.callbackId++,c=new h(a,this);return this.p.callbacks[b]=function(a){c.trigger("open",a)},this.p.roomHandlers[a]=function(a){c.trigger("data",a)},this.p.sock.send(JSON.stringify({action:"subscribe",room:a,callback:b})),c},c.prototype.unsubscribe=function(a){if(!a)throw new Error("No room defined");var b=this.p.callbackId++;this.p.sock.send(JSON.stringify({action:"unsubscribe",room:a,callback:b}))},c.prototype.publish=function(a){if(!a)throw new Error("No options defined");if(!a.room)throw new Error("No room defined");if(!a.message)throw new Error("No message defined");if(this.readyState===k.CLOSED)throw new Error("Connection is closed");this.p.sock.send(JSON.stringify({action:"publish",room:a.room,message:a.message}))},c.prototype.authenticate=function(a){if(!a)throw new Error("No token defined");var b=this.p.callbackId++,c=this;this.p.callbacks[b]=function(b){c.readyState=k.AUTHENTICATED,c.token=a,c.trigger("authenticate",b)},this.p.sock.send(JSON.stringify({action:"authenticate",token:a,callback:b}))},c.prototype.close=function(){this.p.sock.close()},"undefined"==typeof window?b.exports=c:window.ScaleDrone=c},{"./room.js":80,"./sock_events.js":81,"backbone-events-standalone":2,"lodash.after":4,"lodash.defaults":5,"sockjs-client":17}],80:[function(a,b){function c(a,b){"use strict";this.name=a,this.channel=b}var d=a("backbone-events-standalone");d.mixin(c.prototype),c.prototype.unsubscribe=function(){this.channel.unsubscribe(this.name)},b.exports=c},{"backbone-events-standalone":2}],81:[function(a,b){b.exports=function(a,b){a.onopen=function(a){b.trigger("open",a)},a.onmessage=function(a){b.trigger("message",a)},a.onclose=function(a){b.trigger("close",a)}}},{}]},{},[79]);